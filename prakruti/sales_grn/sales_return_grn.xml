<?xml version="1.0" encoding="utf-8"?>
<openerp>
 <data>
         <!-- Search view for GRN         -->
        <record model="ir.ui.view" id="view_prakruti_sales_return_grn_search">
            <field name="name">prakruti.sales_return_grn.search</field>
            <field name="model">prakruti.sales_return_grn</field>
            <field name="arch" type="xml">
                <search string="Product Wise Search">
                    <field name="product_id"/>
                    <field name= "grn_no"/>
                    <field name= "grn_date"/>
                    <field name= "order_no"/>
                    <field name= "order_date"/>
                    <field name= "customer_id"/>
                    <field name= "state"/>
                </search>
            </field>
        </record>
        
         <!-- tree view for GRN         -->
        <record model="ir.ui.view" id="view_prakruti_sales_return_grn_tree">
            <field name="name">Goods Received Note</field>
            <field name="model">prakruti.sales_return_grn</field>
            <field name="arch" type="xml">
                <tree string="Goods Received Note Information" create= "false">
                    <field name= "grn_no"/>
                    <field name= "grn_date"/>
                    <field name= "order_no"/>
                    <field name= "order_date"/>
                    <field name= "customer_id"/>
                    <field name= "state"/>
                </tree>
            </field>
        </record>
        
         <!-- Form view for GRN         -->
        <record model="ir.ui.view" id="view_prakruti_sales_return_grn_form">
            <field name="name">Good Received Note</field>
            <field name="model">prakruti.sales_return_grn</field>
            <field name="arch" type="xml">
                <form string="Good Received Note" create= "false">
                    <header>
                        <field name= "state" widget='statusbar'/>
                    </header>
                    <button name="grn_to_quality" string="Quality Test" type="object" attrs="{'invisible':['|',('state', 'in', ('qc_check','qc_check_done','done')),('return_type','=','from_dispatch')]}"/>
                    <button name="grn_to_stock" string="Update" type="object" attrs="{'invisible':['|',('state', 'in', ('grn','qc_check','done')),('return_type','=','from_dispatch')]}"/>
                    <group string = 'Good Received Note'/>
                    <group colspan="4" col="4">
                        <field name= "auto_no" invisible= "True"/>
                        <field name= "req_no_control_id" invisible= "True"/>
                        <field name= "good_received_note_no" invisible= "True"/>
                        <field name= "product_type_id" invisible= "True"/>
                    </group>
                    <group colspan="4" col="4">
                        <field name="return_type" required="True" attrs="{'readonly':['|',('state', 'in', ('qc_check','qc_check_done','done','to_scrap','grn'))]}"/>
                        <field name= "grn_no"/>
                        <field name= "grn_date"/>
                        <field name= "order_no"/>
                        <field name= "order_date" readonly="True"/>
                        <field name= "customer_id"/>
                        <field name= "company_id"/>    
                        <field name= 'location_id' options="{'no_create': True, 'no_open': True, 'no_create_edit' : True}"  />
                    </group>   
                    <group>
                        <field name='quotation_no' invisible="True"/>
                        <field name='quotation_date' invisible="True"/>
                        <field name='inquiry_date' invisible="True"/>
                        <field name='inquiry_no' invisible="True"/>
                        <field name='billing_id' invisible="True"/>
                        <field name='remarks' invisible="True"/>
                        <field name='order_type' invisible="True"/>
                        <field name='assessable_value' invisible="True"/>
                        <field name='total_assessable_value' invisible="True"/>
                        <field name='assessable_subtotal' invisible="True"/>
                        <field name='subtotal' invisible="True"/>
                        <field name='bed_type' invisible="True"/>
                        <field name='bed_percentage' invisible="True"/>
                        <field name='bed_qty' invisible="True"/>
                        <field name='bed_amt' invisible="True"/>
                        <field name='ed_cess_type' invisible="True"/>
                        <field name='ed_cess_qty' invisible="True"/>
                        <field name='ed_cess_percentage' invisible="True"/>
                        <field name='ed_cess_amt' invisible="True"/>
                        <field name='sec_cess_type' invisible="True"/>
                        <field name='sec_cess_qty' invisible="True"/>
                        <field name='sec_cess_percentage' invisible="True"/>
                        <field name='sec_cess_amt' invisible="True"/>
                        <field name='tax_type' invisible="True"/>
                        <field name='tax_value' invisible="True"/>
                        <field name='total_tax' invisible="True"/>
                        <field name='cst_value' invisible="True"/>
                        <field name='total_cst' invisible="True"/>
                        <field name='vat_value' invisible="True"/>
                        <field name='total_vat' invisible="True"/>
                        <field name='sbc_value' invisible="True"/>
                        <field name='total_sbc' invisible="True"/>
                        <field name='kkc_value' invisible="True"/>
                        <field name='total_kkc' invisible="True"/>
                        <field name='untaxed_amount' invisible="True"/>
                        <field name='transporatation_charges' invisible="True"/>
                        <field name='final_grand_total' invisible="True"/>    
                        <field name= 'dispatch_id' invisible="True" />
                        <field name= 'order_id' invisible="True"/>
                        <field name= 'requested_id' invisible="True"/>
                        <field name= 'quotation_id' invisible="True"/>
                        <field name= 'flag_rejected_count' invisible="True"/> 
                    </group>
                    <notebook>
                        <page string='Product Details'>
                            <field name='grn_line' widget= 'one2many_list' />
                        </page>
                        <page string='Other details'>
                            <group>
                                <field name= "remarks"/>
                                <field name='terms' readonly="True"/> 
                                <field name='reference_no' readonly="True"/> 
                                <field name='reference_date' readonly="True"/>
                                <field name='revision_no' readonly="True"/>
                            </group>
                        </page> 
                    </notebook>
                </form>
            </field>
        </record>
        
        
    <!--  Tree view for GRN Line     -->
     <record model="ir.ui.view" id="view_prakruti_sales_return_grn_line_tree">
         <field name="name">prakruti.sales_return_grn_line.tree</field>
         <field name="model">prakruti.sales_return_grn_line</field>
         <field name="arch" type="xml">
                <tree editable='bottom' create= "false">
                    <field name= "batch_no" />
                    <field name= "product_id" attrs="{'readonly':[('status', 'in', ('par_reject','rejected'))]}"/>
                    <field name= "uom_id" attrs="{'readonly':[('status', 'in', ('par_reject','rejected'))]}"/>
                    <field name= "specification_id" attrs="{'readonly':[('status', 'in', ('par_reject','rejected'))]}"/>
                    <field name= "description" attrs="{'readonly':[('status', 'in', ('par_reject','rejected'))]}"/>
                    <field name= "quantity" attrs="{'readonly':[('status', 'in', ('par_reject','rejected'))]}"/>
                    <field name= "accepted_qty" attrs="{'readonly':[('status', 'in', ('par_reject','rejected'))]}"/>
                    <field name= "rejected_qty" attrs="{'readonly':[('status', 'in', ('par_reject','rejected'))]}"/>
                    <field name= "status" attrs="{'readonly':[('status', 'in', ('par_reject','rejected'))]}"/>
                    <field name= "remarks"/>
                    <field name="mfg_date" invisible= 'True'/>
                    <field name="exp_date" invisible= 'True'/>
                    <field name="tarrif_id" invisible= 'True'/>
                    <field name="mrp" invisible= 'True'/>
                    <field name="total" invisible= 'True'/>
                    <field name="total1" invisible= 'True'/>
                    <field name="unit_price" invisible= 'True'/>
                </tree>
         </field>
     </record>
        
         <!-- Pivot view for GRN         -->
     <record model="ir.ui.view" id="view_prakruti_sales_return_grn_pivot">
            <field name="name">prakruti.sales_return_grn.pivot</field>
            <field name="model">prakruti.sales_return_grn</field>
            <field name="arch" type="xml">
                <pivot string=" Good Received Note  " display_quantity="True">
                    <field name="customer_id"  type="row"/>
                    <field name= "state"/>
                </pivot>
            </field>
        </record>
        
        <!-- Action view for GRN         -->
        <record model="ir.actions.act_window" id="prakruti_sales_return_grn_action">
            <field name="name">Goods Received Note</field>
            <field name="res_model">prakruti.sales_return_grn</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form,pivot</field>
        </record>
        
        <menuitem id="prakruti_sales_stores_grn_sub_menu" 
                  name="Sales Return GRN" 
                  parent="prakruti_stores_main_menu" 
                  sequence="4"/>
        <menuitem sequence="1" 
                  name="Sales Return Goods Received Note" 
                  id="prakruti_sales_return_grn_sub_menu_1"
                  action="prakruti_sales_return_grn_action"
                  parent="prakruti.prakruti_sales_stores_grn_sub_menu"
                  groups="prakruti.group_prakruti_sales_return_grn_read_only,prakruti.group_prakruti_sales_return_grn_edit,prakruti.group_prakruti_sales_return_grn_create,prakruti.group_prakruti_sales_return_grn_delete"/>
    </data>
</openerp>