<?xml version="1.0" encoding="utf-8"?>
<openerp>
 <data>
        <!--  Search view for GRN QC Line     -->
        <record model="ir.ui.view" id="view_prakruti_sales_return_grn_qc_search">
            <field name="name">prakruti.sales_return_grn_qc.search</field>
            <field name="model">prakruti.sales_return_grn_qc</field>
            <field name="arch" type="xml">
                <search string="Product Wise Search">
                    <field name="product_id"/>
                    <field name= "grn_no"/>
                    <field name= "order_no"/>
                    <field name= "customer_id"/>
                    <field name= "state"/>
                </search>
            </field>
        </record>
        
        
        
        <!--  tree view for GRN QC Line     -->
        <record model="ir.ui.view" id="view_prakruti_sales_return_grn_qc_tree">
            <field name="name">Sales Return Quality Control</field>
            <field name="model">prakruti.sales_return_grn_qc</field>
            <field name="arch" type="xml">
                <tree string="Sales Return Quality Control Information" create= "false">
                    <field name= "qc_date"/>
                    <field name= "grn_no"/>
                    <field name= "grn_date"/>
                    <field name= "order_no"/>
                    <field name= "order_date"/>
                    <field name= "customer_id"/>  
                    <field name='checked_id'  />
                    <field name= "state"/>
                </tree>
            </field>
        </record>
        
        
        <!--  form view for GRN QC Line     -->
        <record model="ir.ui.view" id="view_prakruti_sales_return_grn_qc_form">
            <field name="name">Sales Return Quality Control</field>
            <field name="model">prakruti.sales_return_grn_qc</field>
            <field name="arch" type="xml">
                <form string="Sales Return Quality Control" create= "false">
                    <header>
                        <field name= "state" widget='statusbar'/>
                    </header>
                    <button name="validate" string="Validate" type="object" attrs="{'invisible':[('flag_rejected_count','in',(2,3,4))]}"/>
                    <button name="quality_to_ha" string="To HA" type="object" attrs="{'invisible':[('flag_rejected_count','in',(1,3,4))]}"/>
                    <button name="quality_to_grn" string="Update To GRN" type="object" attrs="{'invisible':['|',('flag_rejected_count','in',(2,3,1)),('state', 'in', ('qc_ha','qc_check_done','done'))]}"/>
                    <group name = 'sales_qc' string = 'Sales Return Quality Control'/>
                    <group colspan="4" col="4">
                        <field name= "qc_date"/>
                        <field name= "grn_no"/>
                        <field name= "grn_date"/>
                        <field name= "order_no"/>
                        <field name= "order_date"/>
                        <field name= "customer_id"/>
                        <field name= "company_id"/>  
                        <field name='checked_id'  options="{'no_create': True, 'no_open': True, 'no_create_edit' : True}" />
                        <field name='dispatch_id' options="{'no_create': True, 'no_open': True, 'no_create_edit' : True}" invisible="True" />
                        <field name='order_id'  options="{'no_create': True, 'no_open': True, 'no_create_edit' : True}" invisible="True"/>
                        <field name='requested_id'  options="{'no_create': True, 'no_open': True, 'no_create_edit' : True}" invisible="True"/>
                        <field name='quotation_id'  options="{'no_create': True, 'no_open': True, 'no_create_edit' : True}" invisible="True"/>
                    </group>    
                    <group>
                        <field name= "flag_rejected_count" invisible="True"/>
                        <field name= "product_type_id" invisible="True"/>
                        <field name='quotation_no' invisible="True"/>
                        <field name='quotation_date' invisible="True"/>
                        <field name='inquiry_date' invisible="True"/>
                        <field name='inquiry_no' invisible="True"/>
                        <field name='billing_id' invisible="True"/>
                        <field name='order_type' invisible="True"/>
                        <field name='assessable_value' invisible="True"/>
                        <field name='total_assessable_value' invisible="True"/>
                        <field name='assessable_subtotal' invisible="True"/>
                        <field name='subtotal' invisible="True"/>
                        <field name='bed_type' invisible="True"/>
                        <field name='bed_percentage' invisible="True"/>
                        <field name='bed_qty' invisible="True"/>
                        <field name='bed_amt' invisible="True"/>
                        <field name='ed_cess_type' invisible="True"/>
                        <field name='ed_cess_qty' invisible="True"/>
                        <field name='ed_cess_percentage' invisible="True"/>
                        <field name='ed_cess_amt' invisible="True"/>
                        <field name='sec_cess_type' invisible="True"/>
                        <field name='sec_cess_qty' invisible="True"/>
                        <field name='sec_cess_percentage' invisible="True"/>
                        <field name='sec_cess_amt' invisible="True"/>
                        <field name='tax_type' invisible="True"/>
                        <field name='tax_value' invisible="True"/>
                        <field name='total_tax' invisible="True"/>
                        <field name='cst_value' invisible="True"/>
                        <field name='total_cst' invisible="True"/>
                        <field name='vat_value' invisible="True"/>
                        <field name='total_vat' invisible="True"/>
                        <field name='sbc_value' invisible="True"/>
                        <field name='total_sbc' invisible="True"/>
                        <field name='kkc_value' invisible="True"/>
                        <field name='total_kkc' invisible="True"/>
                        <field name='untaxed_amount' invisible="True"/>
                        <field name='transporatation_charges' invisible="True"/>
                        <field name='final_grand_total' invisible="True"/>
                    </group>
                    <notebook colspan="2">
                        <page string='Product Details'>
                            <field name='grn_qc_line' widget= 'one2many_list' />
                        </page>
                        <page string='Other details'>
                            <group colspan="2" cols="6">
                                <field name= "remarks"/>
                                <field name='terms' readonly="True"/> 
                                <field name='reference_no' readonly="True"/> 
                                <field name='reference_date' readonly="True"/>
                                <field name='revision_no' readonly="True"/>
                            </group>
                        </page> 
                  </notebook>
                </form>
            </field>
        </record>
        
        
    <!--  Tree view for GRN qc Line     -->
     <record model="ir.ui.view" id="view_prakruti_sales_return_grn_qc_line_tree">
         <field name="name">prakruti.sales_return_grn_qc_line.tree</field>
         <field name="model">prakruti.sales_return_grn_qc_line</field>
         <field name="arch" type="xml">
                 <tree editable='bottom' create= "false">
                    <field name= "product_id" attrs="{'readonly':[('status', 'in', ('par_reject','rejected','accepted'))]}"/>
                    <field name= "uom_id" attrs="{'readonly':[('status', 'in', ('par_reject','rejected','accepted'))]}"/>
                    <field name='specification_id' options="{'no_create': True, 'no_open': True, 'no_create_edit' : True}" domain="['&amp;',('product_id','=',product_id),'|',('specification_sale_status','=',True),('common_specification','=',True)]"/>
                    <field name='ar_no' options="{'no_create': True, 'no_open': True, 'no_create_edit' : True}"  domain="[('specification_id','=',specification_id)]"/>
                    <field name= "description" attrs="{'readonly':[('status', 'in', ('par_reject','rejected','accepted'))]}"/>
                    <field name= "quantity" attrs="{'readonly':[('status', 'in', ('par_reject','rejected','accepted'))]}"/>
                    <field name= "accepted_qty" attrs="{'readonly':[('state', 'in', ('qc_done'))]}"/>
                    <field name= "rejected_qty" attrs="{'readonly':[('state', 'in', ('qc_done'))]}"/>
                    <field name= "status" attrs="{'readonly':[('state', 'in', ('qc_done'))]}"/>
                    <field name= "state" invisible="True"/>
                    <field name= "remarks" attrs="{'readonly':[('state', 'in', ('qc_done'))]}"/>
                    <field name="batch_no"/>
                    <field name="mfg_date" invisible= 'True'/>
                    <field name="exp_date" invisible= 'True'/>
                    <field name="tarrif_id" invisible= 'True'/>
                    <field name="mrp" invisible= 'True'/>
                    <field name="total" invisible= 'True'/>
                    <field name="total1" invisible= 'True'/>
                    <field name="unit_price" invisible= 'True'/>
                </tree>
         </field>
     </record>
        
         <!--  Pivot view for GRN QC Line     -->
     <record model="ir.ui.view" id="view_prakruti_sales_return_grn_qc_pivot">
            <field name="name">prakruti.sales_return_grn_qc.pivot</field>
            <field name="model">prakruti.sales_return_grn_qc</field>
            <field name="arch" type="xml">
                <pivot string=" Sales Return Quality Control  " display_quantity="True">
                    <field name="customer_id" type="row"/>
                    <field name="checked_id"/>
                </pivot>
            </field>
        </record>
        
        
        <!--  action view for GRN QC Line     -->
        <record model="ir.actions.act_window" id="prakruti_prakruti_sales_return_grn_qc_action">
            <field name="name">Sales Return Quality Control</field>
            <field name="res_model">prakruti.sales_return_grn_qc</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form,pivot</field>
        </record>
        
        
        <menuitem name="Outward" 
                  id="prakruti_quality_control_parent_menu_for_stores_qc" 
                  parent="prakruti_quality_control_main_menu" 
                  sequence="3" />
        <menuitem name="Sales GRN" 
                  id="prakruti_quality_control_parent_menu_for_stores_qc1" 
                  parent="prakruti_quality_control_main_menu" 
                  sequence="3" />
        
        <menuitem sequence="3" name="Sales Return GRN Quality Control" id="prakruti_prakruti_sales_return_grn_qc_sub_menu_1"
             action="prakruti_prakruti_sales_return_grn_qc_action"
             parent="prakruti.prakruti_quality_control_parent_menu_for_stores_qc1"
                  groups="prakruti.group_module_prakruti_sales_return_grn_qc_read_only,prakruti.group_module_prakruti_sales_return_grn_qc_edit,prakruti.group_module_prakruti_sales_return_grn_qc_create,prakruti.group_module_prakruti_sales_return_grn_qc_delete"/>
    </data>
</openerp>