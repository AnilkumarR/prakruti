<?xml version="1.0" encoding="utf-8"  ?>
<openerp>
 <data>
        <!-- Search view for Production Planning         -->
        <record model="ir.ui.view" id="view_prakruti_production_planning_search">
            <field name="name">prakruti.production_planning.search</field>
            <field name="model">prakruti.production_planning</field>
            <field name="arch" type="xml">
                <search string="Search By">
                    <field name="raw_material_id" string = 'Raw Material'/>
                    <field name="slip_no"  />
                    <field name="product_id" />
                    <field name="standard_batch_id" />
                    <field name="output_yield_qty" />
                    <field name="standard_yield_qty" />
                </search>
            </field>
        </record>
        
        <!-- Tree view for Production Planning     -->
    <record model="ir.ui.view" id="view_prakruti_production_planning_tree">
            <field name="name">Production Planning</field>
            <field name="model">prakruti.production_planning</field>
            <field name="arch" type="xml">
                <tree string="Production Planning" create= "false">
                    <field name="slip_no"  />
                    <field name="product_id" />
                    <field name="standard_batch_id" />
                    <field name="output_yield_qty" />
                    <field name="standard_yield_qty" />
                    <field name= 'status' />
                </tree>
            </field>
        </record>   
        <!--Form view for Production Planning          -->
     <record model="ir.ui.view" id="view_prakruti_production_planning_form">
        <field name="name">Production Planning</field>
        <field name="model">prakruti.production_planning</field>
        <field name="arch" type="xml">
            <form string="Production Planning" create= "false">
                <header>  
                    <button name="update_production_slip" string="Planning Done" type="object" attrs="{'invisible':[('status', 'not in', ('planning'))]}"/>
                    <field name= 'status' widget='statusbar'/>
                </header>
                <group colspan="4" col="4">
                    <field name="slip_no"  />
                    <field name="product_id" on_change="onchange_product(product_id)" options="{'no_create': True, 'no_open': True, 'no_create_edit' : True}"/>
                    <field name="standard_batch_id" options="{'no_create': True, 'no_open': True, 'no_create_edit' : True}" domain="[('subplant_id.subplant_id','=',product_id)]"/>
                    <field name="output_yield_qty" />
                    <field name="standard_yield_qty" />
                    <field name="availble_stock_qty"/>
                    <field name="request_id" options="{'no_create': True, 'no_open': True, 'no_create_edit' : True}"/>
                    <field name="location_id" options="{'no_create': True, 'no_open': True, 'no_create_edit' : True}"/>
                    <field name="company_id" options="{'no_create': True, 'no_open': True, 'no_create_edit' : True}"/>
                    <field name="flag_display_count" invisible="True"/>
                    <field name="flag_delete_count" invisible="True"/>
                    <field name='all_send_to_request' invisible="True"/>
                    <field name="ps_line_grid_id" invisible="True"/>
                </group>
                <notebook>
                    <page string="Product Info.">
                        <button name="action_list_products"  string="List" type="object" attrs="{'invisible':[('flag_display_count','=',1)]}"/>
                        <button name="action_delete_products"  string="Delete" type="object" attrs="{'invisible':[('flag_delete_count','=',1)]}"/>                  
                        <button name="check_stock" string="Update" type="object" />              
                        <button name="raise_purchase_requisition" string="Send Purchase Requisition" type="object" attrs="{'invisible':[('all_send_to_request','=',1)]}"/>        
                        <field name='planning_line'/>
                        <group>
                            <field name="remarks"  placeholder= 'Enter RTemarks Here...'/>
                        </group>
                    </page>
                </notebook>
            </form>
        </field>
    </record>
    
        
        <!-- Tree view for Production Planning line     -->
    <record model="ir.ui.view" id="view_prakruti_production_planning_line_tree">
            <field name="name">Production Planning</field>
            <field name="model">prakruti.production_planning_line</field>
            <field name="arch" type="xml">
                <tree editable='bottom' create= 'false'>
                    <field name="product_id" options="{'no_create': True, 'no_open': True, 'no_create_edit' : True}"  />
                    <field name="description"  />
                    <field name="uom_id" options="{'no_create': True, 'no_open': True, 'no_create_edit' : True}"  />
                    <field name="standard_value"  />
                    <field name="actual_qty"  />
                    <field name="store_qty"  />
                    <field name="virtual_qty"  />
                    <field name="requisition_qty"  />
                    <field name="remarks"  />
                    <field name="requisition_status"  />
                    <field name="requisition_flag"  invisible="True"/>
                    <field name="group_id" options="{'no_create': True, 'no_open': True, 'no_create_edit' : True}" invisible="True"/>
                </tree>
            </field>
        </record>   
        
        <!-- Action for Production Planning         -->
    <record model="ir.actions.act_window" id="prakruti_production_planning_action">
            <field name="name">Production Planning</field>
            <field name="res_model">prakruti.production_planning</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
        </record>
       
    <menuitem id="prakruti_production_planning_sub_menu_1" 
              name="Production Planning" 
              action="prakruti_production_planning_action"
              parent="prakruti_production_slip_main_sub_menu"
              sequence="2"
              groups="group_prakruti_production_planning_read_only,group_prakruti_production_planning_edit,group_prakruti_production_planning_create,group_prakruti_production_planning_delete"
              />

        
</data>  
</openerp>
            
                        