<?xml version="1.0" encoding="utf-8"?>
<openerp>
    <data>
        <!-- Search view for Process Dispatch QA HA         -->
        <record model="ir.ui.view" id="view_prakruti_process_quality_check_qa_ha_search">
            <field name="name">prakruti.process_quality_check_qa_ha.search</field>
            <field name="model">prakruti.process_quality_check_qa_ha</field>
            <field name="arch" type="xml">
                <search string="Product Wise Search">
                    <field name="product_id"/>
                    <field name="dispatch_no"/>
                    <field name='checked_by'/>
                    <field name='quality_incharge'/>
                    <field name='state'/>
                </search>
            </field>
        </record>
        
    <!-- Tree view for Process Dispatch QA HA         -->
        <record model="ir.ui.view" id="view_prakruti_process_quality_check_qa_ha_tree">
            <field name="name">Process Dispatch QA HA</field>
            <field name="model">prakruti.process_quality_check_qa_ha</field>
            <field name="arch" type="xml">
                <tree string="Process Dispatch QA HA" create= "false">
                    <field name="qc_date" />
                    <field name="dispatch_no"/>
                    <field name="dispatch_date"/>
                    <field name='checked_by'/>
                    <field name='quality_incharge'/>
                    <field name='state'/>
                </tree>
            </field>
        </record>  
        
    <!--Form view for Process Dispatch QA HA          -->
        <record model="ir.ui.view" id="view_prakruti_process_quality_check_qa_ha_form">
            <field name="name">Process Dispatch QA HA</field>
            <field name="model">prakruti.process_quality_check_qa_ha</field>
            <field name="arch" type="xml">
                <form string="Process Dispatch QA HA" create= "false">
                    <header position="inside">
                        <button name="update_to_dispatch" string="To Dispatch" type="object"  attrs="{'invisible':[('state','in',('done'))]}"/>
                        <field name='state' widget='statusbar'/>
                    </header>
                    <group colspan="4" col="4">
                        <field name='qc_date' attrs="{'readonly':[('state','in',('done'))]}"/>
                        <field name='dispatch_no' />
                        <field name='dispatch_date' />
                        <field name="company_id" readonly="True"/>
                        <field name='checked_by' options="{'no_create': True, 'no_open': True, 'no_create_edit' : True}" attrs="{'readonly':[('state','in',('done'))]}"/>
                        <field name='order_no'/>
                        <field name="order_date"/>
                        <field name="dispatch_to" options="{'no_create': True, 'no_open': True, 'no_create_edit' : True}"/>      
                        <field name='dispatch_id' options="{'no_create': True, 'no_open': True, 'no_create_edit' : True}" readonly="True"/>  
                        <field name='order_id'  options="{'no_create': True, 'no_open': True, 'no_create_edit' : True}" invisible="True"/>
                        <field name='requested_id'  options="{'no_create': True, 'no_open': True, 'no_create_edit' : True}" invisible="True"/>
                        <field name='quotation_id'  options="{'no_create': True, 'no_open': True, 'no_create_edit' : True}" invisible="True"/>
                        <field name='dispatch_flag' invisible="True"/>
                        <field name='qc_check_flag' invisible="True"/>
                    </group>
                    <notebook>
                        <page string='Product Details'>
                            <field name='qc_check_line' attrs="{'readonly':[('state','in',('done'))]}"/>
                        </page> 
                        <page  string="Product Wise Batch List">
                            <field name='batch_line'>
                                <tree string="Product Wise Batch List" editable='bottom' create="false">
                                    <field name="product_id" options="{'no_create': True, 'no_open': True, 'no_create_edit' : True}"/>
                                    <field name="uom_id" options="{'no_create': True, 'no_open': True, 'no_create_edit' : True}" />
                                    <field name="batch_no" options="{'no_create': True, 'no_open': True, 'no_create_edit' : True}"/>
                                    <field name='specification_id' options="{'no_create': True, 'no_open': True, 'no_create_edit' : True}" domain="['&amp;',('product_id','=',product_id),'|',('specification_sale_status','=',True),('common_specification','=',True)]"/>
                                    <field name='ar_id' options="{'no_create': True, 'no_open': True, 'no_create_edit' : True}"  domain="[('specification_id','=',specification_id)]"/> 
                                    <field name="dispatched_qty" />
                                    <field name='batch_size'/>
                                    <field name='batch_qty'/>
                                    <field name='packing_details'/>
                                    <field name="remarks" />
                                </tree>
                            </field>
                        </page>
                        <page string='Other details'>
                            <group name = 'details' string = 'QC Information'/>
                            <group colspan= "4" col= "4">
                                <field name='reference_no' attrs="{'readonly':[('state','in',('done'))]}"/>
                                <field name= "store_incharge" options="{'no_create': True, 'no_open': True, 'no_create_edit' : True}" attrs="{'readonly':[('state','in',('done'))]}"/>
                                <field name= 'quality_incharge' options="{'no_create': True, 'no_open': True, 'no_create_edit' : True}" attrs="{'readonly':[('state','in',('done'))]}"/>
                                <field name='remarks'/>
                                <field name='terms' attrs="{'readonly':[('state','in',('done'))]}"/> 
                                <field name='reference_date' attrs="{'readonly':[('state','in',('done'))]}"/>
                                <field name='revision_no' attrs="{'readonly':[('state','in',('done'))]}"/>
                            </group>
                        </page>
                    </notebook>
                </form>
            </field>
        </record>
        

        
        <!--  Tree view for Process Dispatch QA HA Line     -->
        <record model="ir.ui.view" id="view_prakruti_process_quality_check_line_qa_ha_tree">
            <field name="name">prakruti.process_quality_check_line_qa_ha.tree</field>
            <field name="model">prakruti.process_quality_check_line_qa_ha</field>
            <field name="arch" type="xml">
                <tree editable='bottom' create= "false" delete= "false">
                    <field name='product_id' options="{'no_create': True, 'no_open': True, 'no_create_edit' : True}" attrs="{'readonly':[('state','in',('draft'))]}"/>
                    <field name='uom_id' options="{'no_create': True, 'no_open': True, 'no_create_edit' : True}" attrs="{'readonly':[('state','in',('draft'))]}"/>
                    <field name='description' attrs="{'readonly':[('state','in',('draft'))]}"/>
                    <field name='specification_id' options="{'no_create': True, 'no_open': True, 'no_create_edit' : True}" domain="['&amp;',('product_id','=',product_id),'|',('specification_sale_status','=',True),('common_specification','=',True)]"/>
                    <field name='ar_no' options="{'no_create': True, 'no_open': True, 'no_create_edit' : True}"  domain="[('specification_id','=',specification_id)]"/> 
                    <field name="batch_list"/> 
                    <field name="batch_no" invisible = "True"/>
                    <field name='ordered_qty' attrs="{'readonly':[('state','in',('draft'))]}"/>
                    <field name='dispatched_qty' attrs="{'readonly':[('state','in',('draft'))]}"/>
                    <field name="accepted_qty" />
                    <field name="rejected_qty" />
                    <field name="status" />
                    <field name="test_result"/>
                    <field name='remarks'/>
                    <field name='state' invisible="True"/>
                    <field name='dispatch_line_grid_id' invisible="True"/>
                </tree>           
            </field>
        </record>
        
        <!-- Pivot view for Process Dispatch QA HA     -->
        <record model="ir.ui.view" id="view_prakruti_process_quality_check_qa_ha_pivot">
            <field name="name">prakruti.process_quality_check_qa_ha.pivot</field>
            <field name="model">prakruti.process_quality_check_qa_ha</field>
            <field name="arch" type="xml">
                <pivot string="Process Dispatch QA HA" display_quantity="True">
                    <field name="checked_by" type="row"/>
                    <field name="state"/>
                </pivot>
            </field>
        </record>
        
        <!--Action for Process Dispatch QA HA  -->
        <record model="ir.actions.act_window" id="prakruti_process_quality_check_qa_ha_action">
            <field name="name">Process Dispatch QA HA</field>
            <field name="res_model">prakruti.process_quality_check_qa_ha</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form,pivot</field>
        </record>
        
        <menuitem sequence="4" 
                  name="Process Dispatch QA HA" 
                  id="prakruti_qc_qa_ha_menu" 
                  action="prakruti_process_quality_check_qa_ha_action" 
                  parent="prakruti_quality_control_parent_menu_for_stores_qc" 
                  groups="group_prakruti_process_quality_check_qa_ha_delete,group_prakruti_process_quality_check_qa_ha_create,group_prakruti_process_quality_check_qa_ha_edit,group_prakruti_process_quality_check_qa_ha_read_only"/>
        
    </data>
</openerp>