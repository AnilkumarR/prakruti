<?xml version="1.0" encoding="utf-8"  ?>
<openerp>
 <data>
     
        <!--Search view for Sub Plant       -->
        <record model="ir.ui.view" id="view_prakruti_sub_plant_search">
            <field name="name">prakruti.sub_plant.search</field>
            <field name="model">prakruti.sub_plant</field>
            <field name="arch" type="xml">
                <search string="Product Wise Search">
                    <field name ="company_id"  />
                    <field name ="subplant_id"  />
                    <field name ="subplant_code" />
                    <field name ="main_plant_id" />
                    <field name ="description" />
                    <field name ="plant_type" />
                    <field name ="formulation_type" />
                    <field name ="primary_raw_material_id"  />
                    <field name ="primary_raw_material_name" />
                </search>
            </field>
        </record>
        <!--Tree view for Sub Plant          -->
        <record model="ir.ui.view" id="view_prakruti_sub_plant_tree">
            <field name="name">Sub Plant</field>
            <field name="model">prakruti.sub_plant</field>
            <field name="arch" type="xml">
                <tree string="Sub Plant" >
                    <field name ="company_id"  />
                    <field name ="subplant_id"  />
                    <field name ="subplant_code" />
                    <field name ="main_plant_id" />
                    <field name ="description" />
                    <field name ="plant_type" />
                    <field name ="formulation_type" />
                    <field name ="primary_raw_material_id"  />
                </tree>
            </field>
        </record>  

        <!--Form view for Sub Plant  -->
        <record model="ir.ui.view" id="view_prakruti_sub_plant_form">
        <field name="name">Sub Plant</field>
        <field name="model">prakruti.sub_plant</field>
        <field name="arch" type="xml">
            <form string="Sub Plant" >
                <sheet>
                    <group colspan="4" col="4">
                        <field name ="company_id" style="width:25%%" options="{'no_create': True, 'no_open': True, 'no_create_edit' : True}"/>
                        <field name ="subplant_id" style="width:100%%" options="{'no_create': True, 'no_open': True, 'no_create_edit' : True}" domain="[('group_ref','in',(5,6))]" on_change="onchange_subplant_id(subplant_id)"/>
                        <field name ="subplant_code" style="width:100%%" readonly="True"/>
                        <field name ="main_plant_id" style="width:100%%" options="{'no_create': True, 'no_open': True, 'no_create_edit' : True}" />
                        <field name ="plant_type" style="width:100%%"/>
                        <field name ="description" />
                        <field name ="primary_raw_material_id"  options="{'no_create': True, 'no_open': True, 'no_create_edit' : True}" />
                        <field name ="formulation_type" attrs="{'invisible':[('plant_type','not in',('formulation'))]}"   style="width:100%%"/>
                        <field name ="plant_allocated_flag" invisible="True"/>
                        <field name ="primary_raw_material_name" invisible="True"/>
                    </group>
                </sheet>
            </form>
        </field>
        </record>
        
        <!-- Pivot for Sub Plant         -->
        <record model="ir.ui.view" id="view_prakruti_sub_plant_pivot">
            <field name="name">prakruti.sub_plant.pivot</field>
            <field name="model">prakruti.sub_plant</field>
            <field name="arch" type="xml">
                <pivot string=" Sub Plant" display_quantity="True">
                    <field name="subplant_id" type="row"/>
                    <field name="main_plant_id"/>
                </pivot>
            </field>
        </record> 
        <!--Action for Sub Plant  -->
        <record model="ir.actions.act_window" id="prakruti_sub_plant_action">
            <field name="name">Sub Plant</field>
            <field name="res_model">prakruti.sub_plant</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form,pivot</field>
        </record>
    
  
       
        <menuitem id="prakruti_sub_plant_sub_menu" 
                  name="Manage Sub Plant" 
                  action="prakruti_sub_plant_action" 
                  sequence="2"
                  parent="prakruti_production_quality_analysis_parent_menu" groups="group_prakruti_sub_plant_read_only,group_prakruti_sub_plant_edit,group_prakruti_sub_plant_create,group_prakruti_sub_plant_delete"/>
  
</data>
</openerp>
            
                        