<?xml version="1.0" encoding="utf-8"?>
<openerp>
    <data>

        <!-- Tree view for Debit Note         -->
        <record id="view_prakruti_debit_note_tree" model="ir.ui.view">
            <field name="name">Debit Note Tree</field>
            <field name="model">prakruti.debit.note</field>
            <field name="arch" type="xml">
                <tree string="Debit Note" create = "false" delete = "false">
                    <field name="debit_note_no"/>
                    <field name="debit_date"/>
                    <field name="vendor_id"/>
                </tree>
            </field>
        </record>

        <!-- Form view for Debit Note         -->
        <record id="view_prakruti_debit_note_form" model="ir.ui.view">
            <field name="name">Debit Note Form</field>
            <field name="model">prakruti.debit.note</field>
            <field name="arch" type="xml">
                <form string="Debit Note" create = "false" delete = "false">
                    <sheet>
                        <header>                   
                            <button name="to_ha" string="To HA" type="object" attrs="{'invisible':[('ha_flag', '=', 1)]}"/>
                        </header>
                        <group invisible="True">
                            <field name='note_no'/> 
                            <field name='auto_no'/> 
                            <field name='req_no_control_id'/>
                        </group>
                        <field name='ha_flag' invisible= "True"/>
                        <group string="Debit Note" colspan="2" col="6">
                            <field name ="company_address" readonly="True"/>
                            <field name="debit_note_no"/>
                            <field name="debit_date" attrs="{'readonly':[('ha_flag', '=', 1)]}"/>
                            <field name="vendor_id" options="{'no_open': True, 'no_create': True}" attrs="{'readonly':[('ha_flag', '=', 1)]}"/>
                            <field name="po_no" attrs="{'readonly':[('ha_flag', '=', 1)]}"/>
                            <field name="order_date" attrs="{'readonly':[('ha_flag', '=', 1)]}"/>
                            <field name ="categorization" readonly="True"/>
                        </group>
                        <notebook>
                            <page string="Product Info.">
                                <field name="order_line" attrs="{'readonly':[('ha_flag', '=', 1)]}"/>
                                <group name="total_details"  string='Total'>
                                    <group class="oe_subtotal_footer oe_left">
                                        <field name='total_taxable_value' invisible="True"/>
                                        <field name='total_amount' readonly="1"/>
                                        <field name='total_no_of_products' invisible="True"/>
                                        <field name='proportionate_amount_to_products' invisible="True"/>
                                        <field name='freight_charges'/>
                                        <field name='loading_and_packing_charges'/>
                                        <field name='insurance_charges'/>
                                        <field name='other_charges'/>
                                        <field name='all_additional_charges' invisible="True"/>
                                        <field name='total_amount_before_tax' readonly="1"/>
                                        <field name='total_cgst_amount' invisible="True"/>
                                        <field name='total_sgst_amount' invisible="True"/>
                                        <field name='total_igst_amount' invisible="True"/>
                                        <field name='total_gst_amount' readonly="1"/>
                                        <field name='total_amount_after_tax' readonly="1"/>
                                        <button name="calculate_total" string="(update)" type="object" class="oe_edit_only oe_link" /><newline/>
                                    </group>
                                </group>
                            </page>
                            <page string="Other Details">
                                <group colspan="2" col="6">
                                    <field name="notes"/>
                                    <field name="revision_no" readonly="True"/>
                                    <field name="document_no" readonly="True"/>
                                    <field name='stores_incharge' readonly="True"/>
                                    <field name ="plant_manager"  readonly= "True"/>
                                    <field name ="to_name"  readonly= "True"/>
                                    <field name ="default_pr_date"  readonly= "True"/>
                                    <field name ="purchase_manager" readonly="True"/>
                                </group>
                            </page>
                        </notebook>
                    </sheet>
                </form>
            </field>
        </record>


            <!-- Tree view for Debit Note Line        -->
        <record id="view_prakruti_debit_note_line_tree" model="ir.ui.view">
            <field name="name">Debit Note Tree</field>
            <field name="model">prakruti.debit.note.line</field>
            <field name="arch" type="xml">
                <tree editable='bottom' create= "false">
                    <field name='product_id' options="{'no_create': True, 'no_open': True, 'no_create_edit' : True}"/>
                    <field name='uom_id' options="{'no_create': True, 'no_open': True, 'no_create_edit' : True}" />
                    <field name='hsn_code' readonly="True"/>
                    <field name='return_qty' readonly="True"/>
                    <field name='unit_price'/>
                    <field name='amount' readonly="True"/>
                    <field name='discount_rate' />
                    <field name='taxable_value' readonly="True"/>
                    <field name='proportionate_amount_to_products' invisible="True"/>
                    <field name='taxable_value_with_charges' readonly="True"/>
                    <field name='gst_rate' invisible="True"/>
                    <field name='cgst_id' options="{'no_create': True, 'no_open': True, 'no_create_edit' : True}"/>
                    <field name='cgst_rate' invisible="True"/>
                    <field name='cgst_amount' readonly="1"/>
                    <field name='sgst_id' options="{'no_create': True, 'no_open': True, 'no_create_edit' : True}"/>
                    <field name='cgst_rate' invisible="True"/>
                    <field name='sgst_amount' readonly="1"/>
                    <field name='igst_id' options="{'no_create': True, 'no_open': True, 'no_create_edit' : True}"/>
                    <field name='cgst_rate' invisible="True"/>
                    <field name='igst_amount' readonly="1"/>
                    <field name='total' readonly="1"/>
                    <field name='remarks'/>
                </tree>                       
            </field>
        </record>

            <!-- Pivot view for Debit Note         -->
        <record model="ir.ui.view" id="view_prakruti_debit_note_pivot">
            <field name="name">prakruti.debit.note.pivot</field>
            <field name="model">prakruti.debit.note</field>
            <field name="arch" type="xml">
                <pivot string=" Material Outward " display_quantity="True">
                    <field name="vendor_id" type="row"/>
                    <field name="return_id"/>
                </pivot>
            </field>
        </record>

        <!-- Action view for Debit Note         -->
        <record id="action_prakruti_debit_note_form" model="ir.actions.act_window">
            <field name="name">Debit Note</field>
            <field name="res_model">prakruti.debit.note</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form,pivot</field>
        </record>

        <menuitem  name="Debit Note"  
                   action="action_prakruti_debit_note_form" 
                   id="menu_action_prakruti_debit_note_form_1" 
                   parent="prakruti_credit_note_main_sub_menu" 
                   sequence="2" 
                   groups="group_prakruti_debit_note_read_only,group_prakruti_debit_note_edit,group_prakruti_debit_note_create,group_prakruti_debit_note_delete"
                  />
        
       
        
    </data>
</openerp>