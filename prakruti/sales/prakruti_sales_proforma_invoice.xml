<?xml version="1.0" encoding="utf-8"?>
<openerp>
 <data>
        <!-- Search View for Proforma Invoice         -->
        <record model="ir.ui.view" id="view_prakruti_sales_proforma_invoice_search">
            <field name="name">prakruti.sales_proforma_invoice.search</field>
            <field name="model">prakruti.sales_proforma_invoice</field>
            <field name="arch" type="xml">
                <search string="Product Wise Search">
                    <field name="product_id"/>
                     <field name ='proforma_invoice_no'/> 
                     <field name ="order_no" />
                     <field name='customer_id' /> 
                </search>
            </field>
        </record>
    
     
        <!--  Tree view for proforma Invoice  -->
        <record model="ir.ui.view" id="view_prakruti_sales_proforma_invoice_tree">
            <field name="name">prakruti.sales_proforma_invoice.tree</field>
            <field name="model">prakruti.sales_proforma_invoice</field>
            <field name="arch" type="xml">
                <tree string=" Sales Proforma Invoice ">
                     <field name ='proforma_invoice_no'/> 
                     <field name ='proforma_invoice_date'/>
                     <field name ="order_no" />
                     <field name ="order_date" />
                     <field name='customer_id' /> 
                </tree>
            </field>
        </record>
        
    <!--   Form View for Proforma Invoice       -->
        <record model="ir.ui.view" id="view_prakruti_sales_proforma_invoice_form">
            <field name="name">prakruti.sales_proforma_invoice.form</field>
            <field name="model">prakruti.sales_proforma_invoice</field>
            <field name="arch" type="xml">
            <form string=" Sales Proforma Invoice ">
            <group  string = 'Sales Proforma Invoice '/>
                <group>
                    <group>
                        <field name='ord_no' invisible="True"/>
                        <field name='auto_no' invisible="True"/>
                        <field name='req_no_control_id1' invisible="True"/>
                        <field name='state' invisible="True"/>
                    </group>
                    <group colspan="4" col="4">
                        <field name='proforma_invoice_no'/> 
                        <field name='proforma_invoice_date'/>
                        <field name='order_no'/>
                        <field name='order_date' />
                        <field name='inquiry_no'/>
                        <field name='inquiry_date' readonly="True"/>
                        <field name='quotation_no'/>
                        <field name='quotation_date' readonly="True"/>
                        <field name='customer_id' domain="[('customer','=',True)]"  options="{'no_create': True, 'no_open': True, 'no_create_edit' : True}" readonly="True"/>
                        <field name='product_type_id' domain="[('id','=',5)]" options="{'no_create': True, 'no_open': True, 'no_create_edit' : True}" readonly="True"/>
                        <field name='shipping_id' options="{'no_create': True, 'no_open': True, 'no_create_edit' : True}" />
                        <field name='billing_id'  options="{'no_create': True, 'no_open': True, 'no_create_edit' : True}" />
                        <field name="company_address" options="{'no_create': True, 'no_open': True, 'no_create_edit' : True}"/>
                    </group>
                    <notebook>
                        <page string='Product Details'>
                            <field name='grid_id' widget='one2many_list'/>
                        </page>
                        <page string='Others details'>
                            <group >
                                <field name='terms' />
                                <field name='remarks' />
                                <field name='reference_no' readonly="True"/>
                                <field name='reference_date' readonly="True"/>
                                <field name='revision_no' readonly="True"/>
                            </group>
                            <group name="payment_options" string="Advanced Payment Details">
                                <group colspan="4" col="4">
                                    <field name='any_adv_payment'/>
                                    <field name='advance_payment_type'/>
                                    <field name='cash_amount' attrs="{'invisible':[('advance_payment_type', 'in', ('cheque','demand_draft'))]}"/>
                                    <field name='cash_remarks' attrs="{'invisible':[('advance_payment_type', 'in', ('cheque','demand_draft'))]}"/>
                                    <field name='cheque_amount' attrs="{'invisible':[('advance_payment_type', 'in', ('cash','demand_draft'))]}"/>
                                    <field name='cheque_no' attrs="{'invisible':[('advance_payment_type', 'in', ('cash','demand_draft'))]}"/>
                                    <field name='cheque_remarks' attrs="{'invisible':[('advance_payment_type', 'in', ('cash','demand_draft'))]}"/>
                                    <field name='draft_amount' attrs="{'invisible':[('advance_payment_type', 'in', ('cash','cheque'))]}"/>
                                    <field name='draft_no' attrs="{'invisible':[('advance_payment_type', 'in', ('cash','cheque'))]}"/>
                                    <field name='draft_remarks' attrs="{'invisible':[('advance_payment_type', 'in', ('cash','cheque'))]}"/>
                                </group>
                            </group>
                        </page>
                        <page string="Extra" invisible="True" >
                            <group name="total_details"  string='Total' >
                                <group class="oe_subtotal_footer oe_left">
                                    <field name='total_taxable_value' invisible="True"/>
                                    <field name='total_amount' invisible="True"/>
                                    <field name='total_no_of_products' invisible="True"/>
                                    <field name='proportionate_amount_to_products' invisible="True"/>
                                    <field name='freight_charges'/>
                                    <field name='loading_and_packing_charges'/>
                                    <field name='insurance_charges'/>
                                    <field name='other_charges'/>
                                    <field name='all_additional_charges' invisible="True"/>
                                    <field name='total_amount_before_tax'/>
                                    <field name='total_cgst_amount' invisible="True"/>
                                    <field name='total_sgst_amount' invisible="True"/>
                                    <field name='total_igst_amount' invisible="True"/>
                                    <field name='total_gst_amount' />
                                    <field name='total_amount_after_tax'/>
                                    <field name='grand_total'/>
                                    <field name="total_gst_in_words" invisible="True"/>
                                    <field name="grand_total_in_words" invisible="True"/>
                                </group>
                            </group>
                        </page>
                </notebook>
            </group>
        </form>
    </field>
</record>
        
    <!--  Tree view for Proforma Invoice line     -->
     <record model="ir.ui.view" id="view_prakruti_sales_proforma_invoice_item_tree">
         <field name="name">prakruti.sales_proforma_invoice_item.tree</field>
         <field name="model">prakruti.sales_proforma_invoice_item</field>
         <field name="arch" type="xml">
               <tree editable='bottom' create= "false" delete= "false">
                    <field name='product_id' options="{'no_create': True, 'no_open': True, 'no_create_edit' : True}" domain="[('group_ref','=',parent.product_type_id)]"/>
                    <field name="description" />
                    <field name='uom_id' options="{'no_create': True, 'no_open': True, 'no_create_edit' : True}"/>
                    <field name='specification_id'/>
                    <field name='hsn_code' readonly="True"/>
                    <field name='quantity' readonly="True"/>
                    <field name='unit_price'/>
                    <field name='mfg_date'/>
                    <field name='exp_date'/>
                    <field name='amount'/>
                    <field name='req_date' />
                    <field name='scheduled_date'/>
                    <field name='scheduled_qty' />
                    <field name='discount' />
                    <field name='taxable_value'/>
                    <field name='proportionate_amount_to_products' invisible="True"/>
                    <field name='taxable_value_with_charges'/>
                    <field name='gst_rate' invisible="True"/>
                    <field name='cgst_id' options="{'no_create': True, 'no_open': True, 'no_create_edit' : True}"/>
                    <field name='cgst_value' invisible="True"/>
                    <field name='cgst_amount'/>
                    <field name='sgst_id' options="{'no_create': True, 'no_open': True, 'no_create_edit' : True}"/>
                    <field name='sgst_value' invisible="True"/>
                    <field name='sgst_amount'/>
                    <field name='igst_id' options="{'no_create': True, 'no_open': True, 'no_create_edit' : True}"/>
                    <field name='igst_value' invisible="True"/>
                    <field name='igst_amount'/>
                    <field name='total'/>
                    <field name='remarks'/>
                </tree>
         </field>
     </record>
        
        
                                  
    <!-- Pivot view for proforma Invoice         -->
     <record model="ir.ui.view" id="view_prakruti_sales_proforma_invoice_pivot">
            <field name="name">prakruti.sales_proforma_invoice.pivot</field>
            <field name="model">prakruti.sales_proforma_invoice</field>
            <field name="arch" type="xml">
                <pivot string="Sales Proforma Invoice" display_quantity="True">
                    <field name="state" type="row"/>
                    <field name="customer_id"/>
                </pivot>
            </field>
        </record>
        <!--Action for proforma Invoice          -->
        <record model="ir.actions.act_window" id="prakruti_sales_proforma_invoice_action">
            <field name="name">Sales Proforma Invoice </field>
            <field name="res_model">prakruti.sales_proforma_invoice</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form,pivot</field>
        </record>
           
        <menuitem name="Sales Proforma Invoice" 
                  id="prakruti_sales_proforma_invoice_menu"
                  action="prakruti_sales_proforma_invoice_action" 
                  sequence="5"
                  parent="prakruti_sales_main_sub_menu" groups="group_prakruti_sales_proforma_invoice_read_only,group_prakruti_sales_proforma_invoice_edit,group_prakruti_sales_proforma_invoice_create,group_prakruti_sales_proforma_invoice_delete"/>
</data>
</openerp>
