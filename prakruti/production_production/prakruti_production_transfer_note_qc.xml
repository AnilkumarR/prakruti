<?xml version="1.0" encoding="utf-8"?>
<openerp>
<data>
    <!-- Search view for for PTN QC Information -->
        <record model="ir.ui.view" id="view_prakruti_production_transfer_note_qc_search">
            <field name="name">prakruti.production_transfer_note_qc.search</field>
            <field name="model">prakruti.production_transfer_note_qc</field>
            <field name="arch" type="xml">
                <search string="Product Wise Search">
                    <field name="company_id" />
                    <field name="state" />
                    <field name="ptn_no"/>
                    <field name="batch_no"/>
                    <field name="checked_by"/>
                </search>
            </field>
        </record>
        


        <!-- Tree view of  PTN QC Information -->
        <record model="ir.ui.view" id="view_prakruti_production_transfer_note_qc_tree">
            <field name="name">prakruti.production_transfer_note_qc.tree</field>
            <field name="model">prakruti.production_transfer_note_qc</field>
            <field name="arch" type="xml">
                <tree string="PTN QC" create= "false">
                    <field name="company_id" />
                    <field name="ptn_no"/>
                    <field name="date"/>
                    <field name="qc_date"/>
                    <field name="batch_no"/>
                    <field name="checked_by"/>
                    <field name="state" />
                    <field name= "report_status" />
                </tree>
            </field>
        </record>
        
        
        <!-- Form View for PTN QC Information -->
        <record model="ir.ui.view" id="view_prakruti_production_transfer_note_qc_form">
            <field name="name">prakruti.production_transfer_note_qc.form</field>
            <field name="model">prakruti.production_transfer_note_qc</field>
            <field name="arch" type="xml">
                <form string="   PTN Information" create= "false">
                    <sheet>
                    <header position="inside">  
                        <button name="action_to_inward" string= "Done" type="object" attrs="{'invisible':['|',('state','!=',('qc_check')),('flag_count_reject','=',2)]}" />
                        <button name="action_to_ha" string="HA" type="object" attrs="{'invisible':[('flag_count_reject','!=',2)]}"   />
                        <field name= "state" widget='statusbar'/>
                    </header>
                    <group>
                        <group colspan="2" col='4'>
                            <field name="ptn_no"/>
                            <field name="date"/>
                            <field name="qc_date"/>
                            <field name="company_id" readonly="True"/>
                            <field name="batch_no" options="{'no_create': True, 'no_open': True, 'no_create_edit' : True}"/>
                            <field name="checked_by" options="{'no_create': True, 'no_open': True, 'no_create_edit' : True}"/>
                            <field name="report_status" />
                            <field name="formulation_type" attrs="{'invisible':[('batch_allocated_by', 'in', ('syrup','tablet','extraction'))]}"/>
                            <field name="batch_allocated_by" invisible="1"/>
                            <field name='flag_count_reject' invisible="True"/>
                            </group>
                            <notebook colspan="2"> 
                                <page string="Product Details" create= "false">
                                     <button name="action_update_ar_status" string="AR Update" type="object" />
                                    <field name='grid_id'/>
                                </page>
                        </notebook>
                    </group>
                    </sheet>
                </form>
            </field>
        </record>


        <!-- Tree for PTN QC Line Information -->
        <record model="ir.ui.view" id="view_prakruti_production_transfer_note_qc_line_tree">
            <field name="name">prakruti.production_transfer_note_qc_line.tree</field>
            <field name="model">prakruti.production_transfer_note_qc_line</field>
            <field name="arch" type="xml">
                <tree string="Production Transfer Note QC Line" editable='bottom' create= 'false'>
                    <field name="product_id" options="{'no_create': True, 'no_open': True, 'no_create_edit' : True}"/>
                    <field name="uom_id" options="{'no_create': True, 'no_open': True, 'no_create_edit' : True}"/>
                    <field name="description"/>
                    <field name="specification_id" domain="[('product_id','=',product_id)]" options="{'no_create': True, 'no_open': True, 'no_create_edit' : True}"/>
                    <field name="ar_id" options="{'no_create': True, 'no_open': True, 'no_create_edit' : True}"  domain="[('specification_id','=',specification_id)]"/>
                    <field name="mrg_quantity"/>
                    <field name="accepted_qty" />
                    <field name="rejected_qty" />
                    <field name="qc_status" />
                    <field name="test_result"/>
                    <field name="remarks"/>                    
                    <field name="common_inward_line_id" invisible="True"/>
                    <field name="main_id" invisible="True"/>
                </tree>
            </field>
        </record>


        <!-- Pivot for PTN QC Information -->
        <record model="ir.ui.view" id="view_prakruti_production_transfer_note_qc_pivot">
            <field name="name">prakruti.production_transfer_note_qc.pivot</field>
            <field name="model">prakruti.production_transfer_note_qc</field>
            <field name="arch" type="xml">
                <pivot string="    PTN" display_quantity="True">
                    <field name="batch_no" type="row"/>
                </pivot>
            </field>
        </record>


        <!-- Action for PTN QC Information -->
        <record model="ir.actions.act_window" id="prakruti_production_transfer_note_qc_action">
            <field name="name">PTN QC</field>
            <field name="res_model">prakruti.production_transfer_note_qc</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form,pivot</field>
        </record>



        <menuitem name="Production Inward" 
                    id="prakruti_production_quality_control_sub_menu" 
                    parent="prakruti.prakruti_quality_control_main_menu" 
                    sequence="3" />	
        <menuitem name="Production Inward QC" 
                    id="prakruti_production_transfer_note_qc_menu"
                    action="prakruti_production_transfer_note_qc_action" 
                    sequence="1"
                    parent="prakruti_production_quality_control_sub_menu"  groups="group_prakruti_production_transfer_note_qc_read_only,group_prakruti_production_transfer_note_qc_create,group_prakruti_production_transfer_note_qc_edit,group_prakruti_production_transfer_note_qc_delete"/>   

        <!--==== END    store  request  Information ==== -->


            </data>
            </openerp>
