<?xml version="1.0" encoding="utf-8"?>
<openerp>
    <data>
        
            <!--  Search view for Destruction Note        -->
            <record model="ir.ui.view" id="view_prakruti_destruction_note_search">
                <field name="name">prakruti.destruction_note.search</field>
                <field name="model">prakruti.destruction_note</field>
                <field name="arch" type="xml">
                    <search string="Product Wise Search">
                    <field name='inward_no'/>
                    <field name='destruction_date'/>
                    </search>
                </field>
            </record>

            <!--   Tree view for Destruction Note    -->
            <record model="ir.ui.view" id="view_prakruti_destruction_note_tree">
                <field name="model">prakruti.destruction_note</field>
                <field name="arch" type="xml">
                    <tree string="Destruction Note" create= "false">
                    <field name='inward_no'/>
                    <field name='grn_date'/>
                    <field name='order_date'/>
                    <field name='destruction_date'/>
                    </tree>
                </field>
            </record>

            <!-- Form view for Destruction Note         -->
            <record model="ir.ui.view" id="view_prakruti_destruction_note_form">
                <field name="name">prakruti.destruction_note.form</field>
                <field name="model">prakruti.destruction_note</field>
                <field name="arch" type="xml">
                    <form string="Destruction Note" create= "false">
                        <sheet>
                        <header>
                            <button name="destruct_to_scrap" string="To Scrap" type="object" attrs="{'invisible':[('state','in',('to_scrap'))]}"/>
                            <field name='state' widget='statusbar'/>
                        </header>
                        <group  name = 'destruction_note' string = 'Destruction Note'/>
                        <group colspan="4" col="4">
                            <field name='company_id' readonly="True"/>
                            <field name='inward_no' attrs="{'invisible':[('coming_from','not in',('production'))]}" readonly="True"/>
                            <field name='grn_no' attrs="{'invisible':[('coming_from','in',('production'))]}"/>
                            <field name='po_no' attrs="{'invisible':[('coming_from','not in',('purchase'))]}"/>
                            <field name='order_no' options="{'no_create': True, 'no_open': True, 'no_create_edit' : True}" attrs="{'invisible':[('coming_from','not in',('sales'))]}"/>
                            <field name='order_date' attrs="{'invisible':[('coming_from','in',('production'))]}"/>
                            <field name='grn_date' attrs="{'invisible':[('coming_from','in',('production'))]}"/>
                            <field name='destruction_date'/>
                            <field name='coming_from' readonly="True"/>
                        </group>
                        <notebook colspan="2">
                            <page  string="Item Details" create= "false">
                                <field name='grid_id'/>
                            </page>
                            <page string="Others">
                                <group>
                                    <field name='checked_by' options="{'no_create': True, 'no_open': True, 'no_create_edit' : True}"/>
                                    <field name="remarks" />
                                </group>
                            </page>
                        </notebook>
                    </sheet>
                    </form>
                </field>
            </record>

            <!--Tree view for Destruction Note line       -->
            <record model="ir.ui.view" id="view_prakruti_destruction_note_line_tree">
                <field name="name">prakruti.destruction_note_line.tree</field>
                <field name="model">prakruti.destruction_note_line</field>
                <field name="arch" type="xml">
                    <tree string=" Destruction Note " create= "false">
                        <field name="product_id"/>
                        <field name="uom_id"/>
                        <field name="description" />
                        <field name="quantity" />
                        <field name="remarks" />
                    </tree>
                </field>
            </record>

            <!--Pivot for Destruction Note       -->
            <record model="ir.ui.view" id="view_prakruti_destruction_note_pivot">
                <field name="name">prakruti.destruction_note.pivot</field>
                <field name="model">prakruti.destruction_note</field>
                <field name="arch" type="xml">
                    <pivot string="  Destruction Note" display_quantity="True">
                        <field name="po_no" type="row"/>
                    </pivot>
                </field>
            </record>  

            <!--Action for Destruction Note          -->
            <record model="ir.actions.act_window" id="prakruti_destruction_note_action">
                <field name="name"> Destruction Note</field>
                <field name="res_model">prakruti.destruction_note</field>
                <field name="view_type">form</field>
                <field name="view_mode">tree,form,pivot</field>
            </record>

            <menuitem id="prakruti_destruction_stores_sub_menu" 
                    name="Destruction"
                    parent="prakruti.prakruti_stores_main_menu" 
                    sequence="8"/>
            <menuitem id="prakruti_destruction_note_sub_menu" 
                    name="Destruction Note" 
                    action="prakruti_destruction_note_action" 
                    sequence="1"
                    parent="prakruti.prakruti_destruction_stores_sub_menu" groups="group_prakruti_destruction_note_read_only,group_prakruti_destruction_note_create,group_prakruti_destruction_note_edit,group_prakruti_destruction_note_delete"/>
</data>
</openerp>
